webpackJsonp([1],{"+J2U":function(t,e){t.exports={headingLarge:"_2_q57jrzwXIolyXs6KSIyV_0",textLarge:"_1qnWTImACbrRs3rUhZ39lk_0",centered:"_2VN6zVX6a-rFz-3ftR0HWX_0"}},"+bcx":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"col-full push-top"},[s("h1",[t._v("Editing "),s("i",[t._v(t._s(t.thread.title))])]),t._v(" "),s("ThreadEditor",{attrs:{title:t.thread.title,text:t.text},on:{save:t.save,cancel:t.cancel}})],1):t._e()},a=[],n={render:r,staticRenderFns:a};e.a=n},"/02h":function(t,e,s){"use strict";var r=s("M0MF"),a=s("sibf"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},"0CVY":function(t,e,s){"use strict";var r=s("Dd8w"),a=s.n(r);e.a={props:{user:{required:!0,type:Object},userThreadsCount:{required:!0,type:Number},userPostsCount:{required:!0,type:Number}},data:function(){return{activeUser:a()({},this.user)}},methods:{save:function(){this.$store.dispatch("updateUser",a()({},this.activeUser)),this.$router.push({name:"Profile"})},cancel:function(){this.$router.push({name:"Profile"})}},computed:{userThreadsCount:function(){return this.$store.getters.userThreadsCount(this.user[".key"])},userPostsCount:function(){return this.$store.getters.userPostsCount(this.user[".key"])}}}},"0xDb":function(t,e,s){"use strict";s.d(e,"a",function(){return o});var r=s("fZjL"),a=s.n(r),n=s("pFYg"),i=s.n(n),o=function(t){return"object"===(void 0===t?"undefined":i()(t))?a()(t).length:0}},"2VOM":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.forums,function(t){return s("ForumListItem",{key:t[".key"],attrs:{forum:t}})}))},a=[],n={render:r,staticRenderFns:a};e.a=n},"2ZPr":function(t,e,s){"use strict";var r=s("awId"),a=s("+bcx"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},"2aZJ":function(t,e,s){"use strict";e.a={data:function(){return{asyncDataStatus_ready:!1}},methods:{asyncDataStatus_fetched:function(){this.asyncDataStatus_ready=!0,this.$emit("ready")}}}},"3YjU":function(t,e,s){"use strict";var r=s("gRE1"),a=s.n(r),n=s("RxF9");e.a={components:{ForumList:n.a},props:{category:{required:!0,type:Object}},computed:{categoryForums:function(){var t=this;return a()(this.$store.state.forums).filter(function(e){return e.categoryId===t.category[".key"]})}}}},"3kGU":function(t,e,s){"use strict";var r=s("PtMx"),a=s("hUCo"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},"5CYW":function(t,e,s){"use strict";function r(t){this.$style=s("+J2U")}var a=s("VgQg"),n=s("gKTN"),i=s("VU/8"),o=r,u=i(a.a,n.a,!1,o,null,null);e.a=u.exports},"6Ap8":function(t,e,s){"use strict";var r=s("0xDb");e.a={props:{forum:{required:!0,type:Object}},computed:{threadCount:function(){return Object(r.a)(this.forum.threads)}}}},"6blT":function(t,e,s){"use strict";var r=s("6Ap8"),a=s("fzp+"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},"6jfm":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"thread_title"}},[t._v("Title:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-input",attrs:{type:"text",id:"thread_title",name:"title"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"thread_content"}},[t._v("Content:")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.text,expression:"form.text"}],staticClass:"form-input",attrs:{id:"thread_content",name:"content",rows:"8",cols:"140"},domProps:{value:t.form.text},on:{input:function(e){e.target.composing||t.$set(t.form,"text",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-ghost",on:{click:function(e){return e.preventDefault(),t.cancel(e)}}},[t._v("Cancel")]),t._v(" "),s("button",{staticClass:"btn btn-blue",attrs:{type:"submit",name:"Publish"}},[t._v(t._s(t.isUpdate?"Update":"Publish"))])])])},a=[],n={render:r,staticRenderFns:a};e.a=n},"7U3v":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{attrs:{title:t._f("humanFriendlyDate")(t.timestamp)}},[t._v(t._s(t._f("diffForHuman")(t.timestamp))+"\n")])},a=[],n={render:r,staticRenderFns:a};e.a=n},"8nKX":function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r),n=s("fZjL"),i=s.n(n),o=s("Dd8w"),u=s.n(o),c=s("gRE1"),d=s.n(c),l=s("NYxO"),f=s("DeYy"),m=s("TJYQ"),p=s("0xDb"),h=s("2aZJ");e.a={components:{PostList:f.a,PostEditor:m.a},props:{id:{required:!0,type:String}},mixins:[h.a],computed:{thread:function(){return this.$store.state.threads[this.id]},posts:function(){var t=d()(this.thread.posts);return d()(this.$store.state.posts).filter(function(e){return t.includes(e[".key"])})},repliesCount:function(){return this.$store.getters.threadRepliesCount(this.thread[".key"])},user:function(){return this.$store.state.users[this.thread.userId]},contributorCount:function(){return Object(p.a)(this.thread.contributors)}},methods:u()({},Object(l.b)(["fetchThread","fetchUser","fetchPosts"])),beforeCreate:function(){},created:function(){var t=this;this.fetchThread({id:this.id}).then(function(e){return t.fetchUser({id:e.userId}),t.fetchPosts({ids:i()(e.posts)})}).then(function(e){return a.a.all(e.map(function(e){t.fetchUser({id:e.userId})})).then(function(){return t.asyncDataStatus_fetched()})})}}},"8t4W":function(t,e,s){"use strict";var r=s("8nKX"),a=s("ng1G"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},"9TRy":function(t,e,s){"use strict";var r=s("nJYp"),a=s("Pxbv"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},"9oCC":function(t,e,s){"use strict";var r=s("6blT");e.a={components:{ForumListItem:r.a},props:{forums:{required:!0,type:Array}}}},AgMy:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-grid justify-center"},[s("div",{staticClass:"col-2"},[s("form",{staticClass:"card card-form",on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[s("h1",{staticClass:"text-center"},[t._v("Register")]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Full Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-input",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[t._v("Username")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-input",attrs:{id:"username",type:"text"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-input",attrs:{id:"email",type:"email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-input",attrs:{id:"password",type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"avatar"}},[t._v("Avatar")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.avatar,expression:"form.avatar"}],staticClass:"form-input",attrs:{id:"avatar",type:"text"},domProps:{value:t.form.avatar},on:{input:function(e){e.target.composing||t.$set(t.form,"avatar",e.target.value)}}})]),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"text-center push-top"},[s("button",{staticClass:"btn-red btn-xsmall",on:{click:t.registerWithGoogle}},[s("i",{staticClass:"fa fa-google fa-btn"}),t._v("Sign up with Google")])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-actions"},[s("button",{staticClass:"btn-blue btn-block",attrs:{type:"submit"}},[t._v("Register")])])}],n={render:r,staticRenderFns:a};e.a=n},BEMP:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-grid"},[t.edit?s("UserProfileCartEditor",{attrs:{user:t.user}}):s("UserProfileCart",{attrs:{user:t.user}}),t._v(" "),s("div",{staticClass:"col-7 push-top"},[s("div",{staticClass:"profile-header"},[s("span",{staticClass:"text-lead"},[t._v("\n                  "+t._s(t.user.username)+"'s recent activity\n              ")]),t._v(" "),s("a",{attrs:{href:"#"}},[t._v("See only started threads?")])]),t._v(" "),s("hr"),t._v(" "),s("PostList",{attrs:{posts:t.userPosts}})],1)],1)},a=[],n={render:r,staticRenderFns:a};e.a=n},COEB:function(t,e,s){"use strict";var r=s("iy9d"),a=s("FuRD"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},ClcQ:function(t,e,s){"use strict";var r=s("rQVF"),a=s("7U3v"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},DeYy:function(t,e,s){"use strict";var r=s("b4MN"),a=s("dfxI"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},FuRD:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"thread-list"},[s("h2",{staticClass:"list-title"},[t._v("Threads")]),t._v(" "),t._l(t.threads,function(t){return s("ThreadListItem",{key:t[".key"],attrs:{thread:t}})})],2)},a=[],n={render:r,staticRenderFns:a};e.a=n},HXr5:function(t,e){},I4wM:function(t,e,s){"use strict";e.a={props:{user:{required:!0,type:Object}},computed:{userThreadsCount:function(){return this.$store.getters.userThreadsCount(this.user[".key"])},userPostsCount:function(){return this.$store.getters.userPostsCount(this.user[".key"])}}}},IcnI:function(t,e,s){"use strict";var r=s("7+uW"),a=s("NYxO"),n=s("mUbh"),i=s("UjVw"),o=s("ukYY");r.a.use(a.a),e.a=new a.a.Store({state:{categories:{},forums:{},posts:{},threads:{},users:{},authId:null},getters:i.a,actions:n.a,mutations:o.a})},IqJq:function(t,e,s){"use strict";var r=s("TJYQ");e.a={props:{post:{required:!0,type:Object}},components:{PostEditor:r.a},data:function(){return{editing:!1}},computed:{user:function(){return this.$store.state.users[this.post.userId]},userPostCount:function(){return this.$store.getters.userPostsCount(this.post.userId)},userThreadCount:function(){return this.$store.getters.userThreadsCount(this.post.userId)}}}},"J/FS":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"forum-list"},[s("h2",{staticClass:"list-title"},[s("router-link",{attrs:{to:{name:"Category",params:{id:t.category[".key"]}}}},[t._v("\n          "+t._s(t.category.name)+"\n        ")]),t._v(" "),s("a",{attrs:{href:"#"}})],1),t._v(" "),s("ForumList",{attrs:{forums:t.categoryForums}})],1)},a=[],n={render:r,staticRenderFns:a};e.a=n},JDzU:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"col-full"},[s("h1",[t._v(t._s(t.category.name))]),t._v(" "),s("CategoryListItem",{attrs:{category:t.category}})],1):t._e()},a=[],n={render:r,staticRenderFns:a};e.a=n},"JO/1":function(t,e,s){"use strict";var r=s("I4wM"),a=s("XZnA"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},M0MF:function(t,e,s){"use strict";e.a={data:function(){return{form:{email:null,password:null}}},methods:{signIn:function(){var t=this;this.$store.dispatch("signinWithEmailAndPassword",{email:this.form.email,password:this.form.password}).then(function(){return t.$router.push("/")}).catch(function(t){return alert(t.message)})},signInWithGoogle:function(){var t=this;this.$store.dispatch("signinWithGoogle").then(function(){return t.$router.push("/")}).catch(function(t){return alert(t.message)})}},created:function(){this.$emit("ready")}}},M93x:function(t,e,s){"use strict";function r(t){s("UWQU")}var a=s("xJD8"),n=s("c5OH"),i=s("VU/8"),o=r,u=i(a.a,n.a,!1,o,null,null);e.a=u.exports},MzKp:function(t,e,s){"use strict";var r=s("Dd8w"),a=s.n(r),n=s("NYxO"),i=s("u7GP"),o=s("2aZJ");e.a={components:{CategoryListItem:i.a},props:{id:{required:!0,type:String}},mixins:[o.a],computed:{category:function(){return this.$store.state.categories[this.id]}},methods:a()({},Object(n.b)(["fetchCategory","fetchForums"])),created:function(){var t=this;this.fetchCategory({id:this.id}).then(function(e){t.fetchForums({ids:e.forums})}).then(function(e){t.asyncDataStatus_fetched()})}}},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),a=s("kxiW"),n=s.n(a),i=s("M93x"),o=s("YaEn"),u=s("ClcQ"),c=s("IcnI");r.a.component("AppDate",u.a),r.a.config.productionTip=!1;var d={apiKey:"AIzaSyCpE5ncxcxWmjWzuLjc0ppw3dc-XLglTm4",authDomain:"hovikvueschoolforum.firebaseapp.com",databaseURL:"https://hovikvueschoolforum.firebaseio.com",projectId:"hovikvueschoolforum",storageBucket:"",messagingSenderId:"852367972944"};n.a.initializeApp(d),n.a.auth().onAuthStateChanged(function(t){t&&c.a.dispatch("fetchAuthUser")}),new r.a({el:"#app",router:o.a,store:c.a,template:"<App/>",components:{App:i.a}})},NMPn:function(t,e,s){"use strict";e.a={props:{title:{type:String,default:""},text:{type:String,default:""}},data:function(){return{form:{title:this.title,text:this.text}}},computed:{isUpdate:function(){return!!this.title}},methods:{save:function(){this.$emit("save",{title:this.form.title,text:this.form.text})},cancel:function(){this.$emit("cancel")}}}},OxT7:function(t,e,s){"use strict";var r=s("0CVY"),a=s("XvS1"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},PtMx:function(t,e,s){"use strict";var r=s("Dd8w"),a=s.n(r),n=s("NYxO"),i=s("wEhw"),o=s("2aZJ");e.a={components:{ThreadEditor:i.a},props:{forumId:{required:!0,type:String}},mixins:[o.a],computed:{forum:function(){return this.$store.state.forums[this.forumId]}},methods:a()({},Object(n.b)(["createThread","fetchForum"]),{save:function(t){var e=this,s=t.title,r=t.text;this.createThread({forumId:this.forum[".key"],title:s,text:r}).then(function(t){e.$router.push({name:"ThreadShow",params:{id:t[".key"]}})})},cancel:function(){this.$router.push({name:"Forum",params:{id:this.forum[".key"]}})}}),created:function(){var t=this;this.fetchForum({id:this.forumId}).then(function(){return t.asyncDataStatus_fetched()})}}},Pxbv:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"header",attrs:{id:"header"}},[r("router-link",{staticClass:"logo",attrs:{to:{name:"Home"}}},[r("img",{attrs:{src:s("YaDf")}})]),t._v(" "),t._m(0),t._v(" "),r("nav",{staticClass:"navbar"},[t.user?r("ul",[r("li",{staticClass:"navbar-user"},[r("a",{on:{click:function(e){e.preventDefault(),t.userDropdownOpen=!t.userDropdownOpen}}},[r("img",{staticClass:"avatar-small",attrs:{src:t.user.avatar,alt:""}}),t._v(" "),r("span",[t._v("\n                      "+t._s(t.user.name)+"\n                      "),r("img",{staticClass:"icon-profile",attrs:{src:s("ba8D"),alt:""}})])]),t._v(" "),r("div",{class:{"active-drop":t.userDropdownOpen},attrs:{id:"user-dropdown"}},[r("div",{staticClass:"triangle-drop"}),t._v(" "),r("ul",{staticClass:"dropdown-menu"},[r("li",{staticClass:"dropdown-menu-item"},[r("router-link",{attrs:{to:{name:"Profile"}}},[t._v("View profile")])],1),t._v(" "),r("li",{staticClass:"dropdown-menu-item"},[r("a",{on:{click:function(e){e.preventDefault(),t.$store.dispatch("signOut")}}},[t._v("Sign Out")])])])])])]):r("ul",[r("li",{staticClass:"navbar-item"},[r("router-link",{attrs:{to:{name:"SignIn"}}},[t._v("Sign In")])],1),t._v(" "),r("li",{staticClass:"navbar-item"},[r("router-link",{attrs:{to:{name:"Register"}}},[t._v("Register")])],1)])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-hamburger"},[s("div",{staticClass:"top bar"}),t._v(" "),s("div",{staticClass:"middle bar"}),t._v(" "),s("div",{staticClass:"bottom bar"})])}],n={render:r,staticRenderFns:a};e.a=n},RxF9:function(t,e,s){"use strict";var r=s("9oCC"),a=s("2VOM"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},Sv3r:function(t,e){},TJYQ:function(t,e,s){"use strict";var r=s("w+/a"),a=s("ir2G"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},UWQU:function(t,e){},UjVw:function(t,e,s){"use strict";var r=s("0xDb");e.a={authUser:function(t){return t.authId?t.users[t.authId]:null},userThreadsCount:function(t){return function(e){return Object(r.a)(t.users[e].threads)}},userPostsCount:function(t){return function(e){return Object(r.a)(t.users[e].posts)}},threadRepliesCount:function(t){return function(e){return Object(r.a)(t.threads[e].posts)-1}}}},Usei:function(t,e,s){"use strict";e.a={data:function(){return{form:{name:null,username:null,email:null,password:null,avatar:null}}},methods:{register:function(){var t=this;this.$store.dispatch("registerUserWithEmailandPassword",this.form).then(function(){return t.$router.push("/")})},registerWithGoogle:function(){var t=this;this.$store.dispatch("signinWithGoogle").then(function(){return t.$router.push("/")})}},created:function(){this.$emit("ready")}}},VgQg:function(t,e,s){"use strict";e.a={created:function(){this.$emit("ready")}}},Wzdu:function(t,e,s){"use strict";var r=s("Usei"),a=s("AgMy"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},XZnA:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3 push-top"},[s("div",{staticClass:"profile-card"},[s("p",{staticClass:"text-center"},[s("img",{staticClass:"avatar-xlarge",attrs:{src:t.user.avatar,alt:""}})]),t._v(" "),s("h1",{staticClass:"title"},[t._v(t._s(t.user.username))]),t._v(" "),s("p",{staticClass:"text-lead"},[t._v(t._s(t.user.name))]),t._v(" "),s("p",{staticClass:"text-justify"},[t.user.bio?s("span",[t._v(t._s(t.user.bio))]):s("span",[t._v("No bio specified.")])]),t._v(" "),s("span",{staticClass:"online"},[t._v(t._s(t.user.username)+" is online")]),t._v(" "),s("div",{staticClass:"stats"},[s("span",[t._v(t._s(t.userPostsCount)+" posts")]),t._v(" "),s("span",[t._v(t._s(t.userThreadsCount)+" threads")])]),t._v(" "),s("hr"),t._v(" "),t.user.website?s("p",{staticClass:"text-large text-center"},[s("i",{staticClass:"fa fa-globe"}),t._v(" "),s("a",{attrs:{href:t.user.website}},[t._v(t._s(t.user.website))])]):t._e()]),t._v(" "),s("p",{staticClass:"text-xsmall text-faded text-center"},[t._v("Member since june 2003, last visited 4 hours ago")]),t._v(" "),s("div",{staticClass:"text-center"},[s("hr"),t._v(" "),s("router-link",{staticClass:"btn-green btn-small",attrs:{to:{name:"ProfileEdit"}}},[t._v("\n        Edit Profile\n      ")])],1)])},a=[],n={render:r,staticRenderFns:a};e.a=n},XvS1:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3 push-top"},[s("div",{staticClass:"profile-card"},[s("p",{staticClass:"text-center"},[s("img",{staticClass:"avatar-xlarge img-update",attrs:{src:t.user.avatar,alt:""}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.activeUser.username,expression:"activeUser.username"}],staticClass:"form-input text-lead text-bold",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.activeUser.username},on:{input:function(e){e.target.composing||t.$set(t.activeUser,"username",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.activeUser.name,expression:"activeUser.name"}],staticClass:"form-input text-lead",attrs:{type:"text",placeholder:"Full Name"},domProps:{value:t.activeUser.name},on:{input:function(e){e.target.composing||t.$set(t.activeUser,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"user_bio"}},[t._v("Bio")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.activeUser.bio,expression:"activeUser.bio"}],staticClass:"form-input",attrs:{id:"user_bio",placeholder:"Write a few words about yourself."},domProps:{value:t.activeUser.bio},on:{input:function(e){e.target.composing||t.$set(t.activeUser,"bio",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"stats"},[s("span",[t._v(t._s(t.userPostsCount)+" posts")]),t._v(" "),s("span",[t._v(t._s(t.userThreadsCount)+" threads")])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"user_website"}},[t._v("Website")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.activeUser.website,expression:"activeUser.website"}],staticClass:"form-input",attrs:{autocomplete:"off",id:"user_website"},domProps:{value:t.activeUser.website},on:{input:function(e){e.target.composing||t.$set(t.activeUser,"website",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"user_email"}},[t._v("Email")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.activeUser.email,expression:"activeUser.email"}],staticClass:"form-input",attrs:{autocomplete:"off",id:"user_email"},domProps:{value:t.activeUser.email},on:{input:function(e){e.target.composing||t.$set(t.activeUser,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"user_location"}},[t._v("Location")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.activeUser.location,expression:"activeUser.location"}],staticClass:"form-input",attrs:{autocomplete:"off",id:"user_location"},domProps:{value:t.activeUser.location},on:{input:function(e){e.target.composing||t.$set(t.activeUser,"location",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"btn-group space-between"},[s("button",{staticClass:"btn-ghost",on:{click:function(e){return e.preventDefault(),t.cancel(e)}}},[t._v("Cancel")]),t._v(" "),s("button",{staticClass:"btn-blue",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.save(e)}}},[t._v("Save")])])]),t._v(" "),s("p",{staticClass:"text-xsmall text-faded text-center"},[t._v("Member since june 2003, last visited 4 hours ago")])])},a=[],n={render:r,staticRenderFns:a};e.a=n},YaDf:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjExMi42IC0yNDcuNSA0MCA0NSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAxMTIuNiAtMjQ3LjUgNDAgNDUiIHhtbDpzcGFjZT0icHJlc2VydmUiPgoJPGc+CgkJCQk8ZyBpZD0iTGF5ZXJfMTQiPgoJCQkJCTxwYXRoIGZpbGw9IiNGRjY2QzgiIGQ9Ik0xNDIuOC0yMzkuN2MwLDAsMC44LTEuNCwyLjMtMC43YzEuNSwwLjcsNi4xLDIuNyw2LjEsMi43czIuMSwwLjcsMS4yLDIuOGMtMC43LDEuNS0yLjcsNi4yLTIuNyw2LjIKCQkJCQkJbC05LjYtNC42TDE0Mi44LTIzOS43TDE0Mi44LTIzOS43eiIvPgoJCQkJPC9nPgoJCQkJPGcgaWQ9IkxheWVyXzExIj4KCQkJCQk8cGF0aCBmaWxsPSIjRDJEOEQ1IiBkPSJNMTQwLjctMjM0LjdsMi42LDEuOGwzLjcsMS42bDMuNSwwLjdsLTEuOSw0LjFjMCwwLTguOCw2LjUtOS43LTQuMkwxNDAuNy0yMzQuN0wxNDAuNy0yMzQuN3oiLz4KCQkJCTwvZz4KCQkJCTxnIGlkPSJMYXllcl84Ij4KCQkJCQk8cG9seWdvbiBmaWxsPSIjMTU3QTRBIiBwb2ludHM9IjE0OS40LC0yMjguMiAxNDUuOSwtMjI5IDE0Mi4yLC0yMzAuNiAxMzkuNywtMjMyLjQgMTI5LC0yMDguMiAxMzgsLTIwMi42IAkJIi8+CgkJCQk8L2c+CgkJCQk8ZyBpZD0iTGF5ZXJfMSI+CgkJCQkJPHBvbHlnb24gZmlsbD0iIzIyQjU3MyIgcG9pbnRzPSIxMzgsLTIwMi41IDEyNS4zLC0yMDIuNSAxMTIuNiwtMjM0LjIgMTIzLjUsLTIzOC43IAkJIi8+CgkJCQk8L2c+CgkJCQk8ZyBpZD0iTGF5ZXJfMiI+CgkJCQkJPHBhdGggZmlsbD0iI0ZGREFBRSIgZD0iTTExMi42LTIzNC4ybDEuMi0xMy4ybDkuNyw4LjdjMCwwLTEuNywyLjItMy44LDEuNmMwLDAtMC45LDEuOS0zLjQsMS40CgkJCQkJCUMxMTYuMy0yMzUuOCwxMTUuMS0yMzMuNCwxMTIuNi0yMzQuMnoiLz4KCQkJCTwvZz4KCQkJCTxnIGlkPSJMYXllcl83Ij4KCQkJCQk8cGF0aCBkPSJNMTE1LjEtMjQ2LjNsLTEuMy0xLjJsLTAuMywzLjJjMC4xLDAsMS44LTAuNCwyLjUtMS4yQzExNi0yNDUuNSwxMTUuMS0yNDYuMywxMTUuMS0yNDYuM3oiLz4KCQkJCTwvZz4KCQkJCTwvZz4KPC9zdmc+"},YaEn:function(t,e,s){"use strict";var r=s("7+uW"),a=s("/ocq"),n=s("zosi"),i=s("8t4W"),o=s("3kGU"),u=s("2ZPr"),c=s("mAT4"),d=s("b5o+"),l=s("5CYW"),f=s("ecxH"),m=s("Wzdu"),p=s("/02h");r.a.use(a.a),e.a=new a.a({routes:[{path:"/",name:"Home",component:n.a},{path:"/forum/:id",name:"Forum",component:c.a,props:!0},{path:"/category/:id",name:"Category",component:d.a,props:!0},{path:"/me",name:"Profile",component:f.a,props:!0},{path:"/me/edit",name:"ProfileEdit",component:f.a,props:{edit:!0}},{path:"/thread/create/:forumId",name:"ThreadCreate",component:o.a,props:!0},{path:"/thread/:id/edit",name:"ThreadEdit",component:u.a,props:!0},{path:"/thread/:id",name:"ThreadShow",component:i.a,props:!0},{path:"/register",name:"Register",component:m.a},{path:"/signin",name:"SignIn",component:p.a},{path:"*",name:"NotFound",component:l.a}],mode:"history"})},ZH5V:function(t,e,s){"use strict";e.a={}},arqx:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"col-full push-top"},[s("h1",[t._v("Welcome to the Forum")]),t._v(" "),s("CategoryList",{attrs:{categories:t.categories}})],1):t._e()},a=[],n={render:r,staticRenderFns:a};e.a=n},awId:function(t,e,s){"use strict";var r=s("Dd8w"),a=s.n(r),n=s("NYxO"),i=s("wEhw"),o=s("2aZJ");e.a={components:{ThreadEditor:i.a},props:{id:{required:!0,type:String}},mixins:[o.a],computed:{thread:function(){return this.$store.state.threads[this.id]},text:function(){var t=this.$store.state.posts[this.thread.firstPostId];return t?t.text:null}},methods:a()({},Object(n.b)(["updateThread","fetchPost","fetchThread"]),{save:function(t){var e=this,s=t.title,r=t.text;this.updateThread({id:this.id,title:s,text:r}).then(function(t){e.$router.push({name:"ThreadShow",params:{id:e.id}})})},cancel:function(){this.$router.push({name:"ThreadShow",params:{id:this.id}})}}),created:function(){var t=this;this.$store.dispatch("fetchThread",{id:this.id}).then(function(e){return t.fetchPost({id:e.firstPostId})}).then(function(){return t.asyncDataStatus_fetched()})}}},b4MN:function(t,e,s){"use strict";var r=s("kqo0");e.a={components:{PostListItem:r.a},props:{posts:{required:!0,type:Array}}}},"b5o+":function(t,e,s){"use strict";var r=s("MzKp"),a=s("JDzU"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},ba8D:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciICB3aWR0aD0iMTIiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDEyIDgiPgogICAgPHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzU3QUQ4RCIgc3Ryb2tlLXdpZHRoPSIyIiBwb2ludHM9IjEzOTYuNjQyIDQyLjM0OCAxNDAxLjIyMyA0Ny4zNDggMTQwNi4xNjEgNDIuMzQ4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTM5NSAtNDEpIi8+Cjwvc3ZnPg=="},c5OH:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:""}},[s("TheNavbar"),t._v(" "),s("div",{staticClass:"container"},[s("router-view",{directives:[{name:"show",rawName:"v-show",value:t.showPage,expression:"showPage"}],on:{ready:t.pageReady}}),t._v(" "),s("Spinner",{directives:[{name:"show",rawName:"v-show",value:!t.showPage,expression:"!showPage"}]})],1)],1)},a=[],n={render:r,staticRenderFns:a};e.a=n},dAPf:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"fullwidth"},[s("div",{staticClass:"col-full push-top"},[s("div",{staticClass:"forum-header"},[s("div",{staticClass:"forum-details"},[s("h1",[t._v(t._s(t.forum.name))]),t._v(" "),s("p",{staticClass:"text-lead"},[t._v(t._s(t.forum.description))])]),t._v(" "),s("router-link",{staticClass:"btn-green btn-small",attrs:{to:{name:"ThreadCreate",params:{forumId:this.forum[".key"]}}}},[t._v("\n              Start a thread\n          ")])],1)]),t._v(" "),s("div",{staticClass:"col-full"},[s("ThreadList",{attrs:{threads:t.threads}})],1)]):t._e()},a=[],n={render:r,staticRenderFns:a};e.a=n},dfxI:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-list"},t._l(t.posts,function(t){return s("postListItem",{key:t[".key"],attrs:{post:t}})}))},a=[],n={render:r,staticRenderFns:a};e.a=n},ecxH:function(t,e,s){"use strict";var r=s("nVtz"),a=s("BEMP"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},"fzp+":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"forum-listing"},[s("div",{staticClass:"forum-details"},[s("router-link",{staticClass:"text-xlarge",attrs:{to:{name:"Forum",params:{id:t.forum[".key"]}}}},[t._v("\n              "+t._s(t.forum.name)+"\n        ")]),t._v(" "),s("p",[t._v(t._s(t.forum.description))])],1),t._v(" "),s("div",{staticClass:"threads-count"},[s("p",{staticClass:"count"},[t._v(t._s(t.threadCount))]),t._v(" \n        "+t._s(1===t.threadCount?"thread":"threads")+"\n    ")]),t._v(" "),s("div",{staticClass:"last-thread"})])},a=[],n={render:r,staticRenderFns:a};e.a=n},gKTN:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-full centered",class:t.$style.centered},[s("h1",{class:t.$style.headingLarge},[t._v("Not Found")]),t._v(" "),s("p",{class:t.$style.textLarge},[t._v("\n        Opps...\n        "),s("router-link",{attrs:{to:{name:"home"}}},[t._v("\n            go to home page\n        ")])],1)])},a=[],n={render:r,staticRenderFns:a};e.a=n},hHtz:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.post&&t.user?s("div",{staticClass:"post"},[s("div",{staticClass:"user-info"},[s("a",{staticClass:"user-name",attrs:{href:"#"}},[t._v(t._s(t.user.name))]),t._v(" "),s("a",{attrs:{href:"#"}},[s("img",{staticClass:"avatar-large",attrs:{src:t.user.avatar,alt:""}})]),t._v(" "),s("p",{staticClass:"desktop-only text-small"},[t._v(t._s(t.userThreadCount)+" Threads")]),t._v(" "),s("p",{staticClass:"desktop-only text-small"},[t._v(t._s(t.userPostCount)+" posts")])]),t._v(" "),s("div",{staticClass:"post-content"},[t.editing?s("div",[s("PostEditor",{attrs:{post:t.post},on:{save:function(e){t.editing=!1},cancel:function(e){t.editing=!1}}})],1):[s("div",[t._v("\n            "+t._s(t.post.text)+"\n        ")]),t._v(" "),s("a",{staticClass:"link-unstyled",staticStyle:{"margin-left":"auto"},attrs:{href:"#",title:"Make a change"},on:{click:function(e){e.preventDefault(),t.editing=!0}}},[s("i",{staticClass:"fa fa-pencil"})])]],2),t._v(" "),s("div",{staticClass:"post-date text-faded"},[t.post.edited?s("div",{staticClass:"edition-info"},[t._v("edited")]):t._e(),t._v(" "),s("AppDate",{attrs:{timestamp:t.post.publishedAt}})],1)]):t._e()},a=[],n={render:r,staticRenderFns:a};e.a=n},hUCo:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"col-full push-top"},[s("h1",[t._v("Create new thread in "),s("i",[t._v(t._s(t.forum.name))])]),t._v(" "),s("ThreadEditor",{on:{save:t.save,cancel:t.cancel}})],1):t._e()},a=[],n={render:r,staticRenderFns:a};e.a=n},ir2G:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"form-input",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-actions"},[t.isUpdate?s("button",{staticClass:"btn btn-ghost",on:{click:function(e){return e.preventDefault(),t.cancel(e)}}},[t._v("Cancel")]):t._e(),t._v(" "),s("button",{staticClass:"btn-blue"},[t._v(t._s(t.isUpdate?"Update":"Submit post"))])])])},a=[],n={render:r,staticRenderFns:a};e.a=n},iy9d:function(t,e,s){"use strict";var r=s("oEgK");e.a={components:{ThreadListItem:r.a},props:{threads:{required:!0,type:Array}}}},jmvG:function(t,e,s){"use strict";var r=s("u7GP");e.a={components:{CategoryListItem:r.a},props:{categories:{required:!0,type:Array}}}},kqo0:function(t,e,s){"use strict";var r=s("IqJq"),a=s("hHtz"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},lMYB:function(t,e,s){"use strict";var r=s("fZjL"),a=s.n(r),n=s("//Fk"),i=s.n(n),o=s("Dd8w"),u=s.n(o),c=s("gRE1"),d=s.n(c),l=s("NYxO"),f=s("rlI8"),m=s("2aZJ");e.a={components:{CategoryList:f.a},mixins:[m.a],computed:{categories:function(){return d()(this.$store.state.categories)}},methods:u()({},Object(l.b)(["fetchAllCategories","fetchForums"])),created:function(){var t=this;console.log("beforeCreate",this.categories),this.fetchAllCategories().then(function(e){return i.a.all(e.map(function(e){return t.fetchForums({ids:a()(e.forums)})})).then(function(){t.asyncDataStatus_fetched()})})},beforeMount:function(){},mounted:function(){},beforeDestroy:function(){},destroyed:function(){}}},m0Of:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.categories,function(t){return s("CategoryListItem",{key:t[".key"],attrs:{category:t}})}))},a=[],n={render:r,staticRenderFns:a};e.a=n},mAT4:function(t,e,s){"use strict";function r(t){s("Sv3r")}var a=s("skxu"),n=s("dAPf"),i=s("VU/8"),o=r,u=i(a.a,n.a,!1,o,null,null);e.a=u.exports},mP6G:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.thread&&t.user?s("div",{staticClass:"thread"},[s("div",[s("p",[s("router-link",{attrs:{to:{name:"ThreadShow",params:{id:t.thread[".key"]}}}},[t._v("\n          "+t._s(t.thread.title)+"\n        ")])],1),t._v(" "),s("p",{staticClass:"text-faded text-xsmall"},[t._v("\n            By "),s("a",{attrs:{href:"#"}},[t._v(t._s(t.user.name))]),t._v(", "),s("AppDate",{attrs:{timestamp:t.thread.publishedAt}}),t._v(".\n        ")],1)]),t._v(" "),s("div",{staticClass:"activity"},[s("p",{staticClass:"replies-count"},[t._v("\n            "+t._s(t.repliesCount)+" replies\n        ")])])]):t._e()},a=[],n={render:r,staticRenderFns:a};e.a=n},mUbh:function(t,e,s){"use strict";var r=s("gRE1"),a=s.n(r),n=s("fZjL"),i=s.n(n),o=s("Dd8w"),u=s.n(o),c=s("//Fk"),d=s.n(c),l=s("kxiW"),f=s.n(l);e.a={createPost:function(t,e){var s=t.commit,r=t.state,a=f.a.database().ref("posts").push().key;e.userId=r.authId,e.publishedAt=Math.floor(Date.now()/1e3);var n={};n["posts/"+a]=e,n["threads/"+e.threadId+"/posts/"+a]=a,n["threads/"+e.threadId+"/contributors/"+e.userId]=e.userId,n["users/"+e.userId+"/posts/"+a]=a,f.a.database().ref().update(n).then(function(){return s("setItem",{resource:"posts",item:e,id:a}),s("appendPostToThread",{parentId:e.threadId,childId:a}),s("appendContributorToThread",{parentId:e.threadId,childId:e.userId}),s("appendPostToUser",{parentId:e.userId,childId:a}),d.a.resolve(r.posts[a])})},updatePost:function(t,e){var s=t.state,r=t.commit,a=e.id,n=e.text;return new d.a(function(t,e){var i=s.posts[a],o={at:Math.floor(Date.now()/1e3),by:s.authId},c={text:n,edited:o};f.a.database().ref("posts").child(a).update(c).then(function(){r("setPost",{postId:a,post:u()({},i,{text:n,edited:o})}),t(i)})})},updateUser:function(t,e){(0,t.commit)("setUser",{userId:e[".key"],user:e})},createThread:function(t,e){var s=t.state,r=t.commit,a=(t.dispatch,e.text),n=e.title,i=e.forumId;return new d.a(function(t,e){var o=f.a.database().ref("threads").push().key,u=f.a.database().ref("posts").push().key,c=s.authId,d=Math.floor(Date.now()/1e3),l={title:n,forumId:i,publishedAt:d,userId:c,firstPostId:u,posts:{}};l.posts[u]=u;var m={text:a,publishedAt:d,threadId:o,userId:c},p={};p["threads/"+o]=l,p["forums/"+i+"/threads/"+o]=o,p["users/"+c+"/threads/"+o]=o,p["posts/"+u]=m,p["users/"+c+"/posts/"+u]=u,console.log("updates",p),f.a.database().ref().update(p).then(function(){r("setItem",{resource:"threads",item:l,id:o}),r("appendThreadToForum",{parentId:i,childId:o}),r("appendThreadToUser",{parentId:c,childId:o}),r("setItem",{resource:"posts",item:m,id:u}),r("appendPostToThread",{parentId:m.threadId,childId:u}),r("appendPostToUser",{parentId:m.userId,childId:u}),t(s.threads[o])}),r("setItem",{resource:"threads",item:l,id:o}),r("appendThreadToForum",{parentId:i,childId:o}),r("appendThreadToUser",{parentId:c,childId:o}),r("setItem",{resource:"posts",item:m,id:u}),r("appendPostToThread",{parentId:m.threadId,childId:u}),r("appendPostToUser",{parentId:m.userId,childId:u}),t(s.threads[o])})},createUser:function(t,e){var s=t.state,r=t.commit,a=e.id,n=e.email,i=e.name,o=e.username,u=e.avatar,c=void 0===u?null:u;return new d.a(function(t,e){var u=Math.floor(Date.now()/1e3),d=o.toLowerCase();n=n.toLowerCase();var l={avatar:c,email:n,name:i,username:o,usernameLower:d,registeredAt:u};f.a.database().ref("users").child(a).set(l).then(function(){r("setItem",{resource:"users",id:a,item:l}),t(s.users[a])})})},registerUserWithEmailandPassword:function(t,e){var s=t.dispatch,r=e.email,a=e.name,n=e.username,i=e.password,o=e.avatar,u=void 0===o?null:o;return f.a.auth().createUserWithEmailAndPassword(r,i).then(function(t){return s("createUser",{id:t.user.uid,email:r,name:a,username:n,password:i,avatar:u}).then(function(){return s("fetchAuthUser")})})},fetchAuthUser:function(t){var e=t.dispatch,s=t.commit,r=f.a.auth().currentUser.uid;return new d.a(function(t,a){f.a.database().ref("users").child(r).once("value",function(a){if(a.exists())return e("fetchUser",{id:r}).then(function(e){s("setAuthId",r),t(e)});t(null)})})},signinWithEmailAndPassword:function(t,e){var s=e.email,r=e.password;return f.a.auth().signInWithEmailAndPassword(s,r)},signinWithGoogle:function(t){var e=t.dispatch,s=new f.a.auth.GoogleAuthProvider;return f.a.auth().signInWithPopup(s).then(function(t){var s=t.user;f.a.database().ref("users").child(s.uid).once("value",function(t){if(!t.exists())return e("createUser",{id:s.uid,name:s.displayName,email:s.email,username:s.email,avatar:s.photoURL}).then(function(){return e("fetchAuthUser")})})})},signOut:function(t){var e=t.commit;return f.a.auth().signOut().then(function(){e("setAuthId",null)})},updateThread:function(t,e){var s=t.state,r=t.commit,a=e.title,n=e.text,i=e.id;return new d.a(function(t,e){var o=s.threads[i],c=s.posts[o.firstPostId],d={at:Math.floor(Date.now()/1e3),by:s.authId},l={};l["posts/"+o.firstPostId+"/text"]=n,l["posts/"+o.firstPostId+"/edited"]=d,l["threads/"+i+"/title"]=a,f.a.database().ref().update(l).then(function(){r("setThread",{thread:u()({},o,{title:a}),threadId:i}),r("setPost",{post:u()({},c,{text:n}),postId:o.firstPostId}),t(c)})})},fetchThreads:function(t,e){return(0,t.dispatch)("fetchItems",{ids:e.ids,itemType:"Thread",resource:"threads"})},fetchForums:function(t,e){return(0,t.dispatch)("fetchItems",{resource:"forums",ids:e.ids,itemType:"_Forums"})},fetchUsers:function(t,e){return(0,t.dispatch)("fetchItems",{resource:"users",ids:e.ids,itemType:"_Users"})},fetchPosts:function(t,e){return(0,t.dispatch)("fetchItems",{resource:"posts",ids:e.ids,itemType:"_Post"})},fetchCategories:function(t,e){return(0,t.dispatch)("fetchItems",{resource:"categories",ids:e.ids,itemType:"_Categories"})},fetchThread:function(t,e){return(0,t.dispatch)("fetchItem",{id:e.id,itemType:"Thread",resource:"threads"})},fetchUser:function(t,e){return(0,t.dispatch)("fetchItem",{id:e.id,itemType:"User",resource:"users"})},fetchPost:function(t,e){return(0,t.dispatch)("fetchItem",{id:e.id,itemType:"Post",resource:"posts"})},fetchCategory:function(t,e){return(0,t.dispatch)("fetchItem",{id:e.id,resource:"categories",itemType:"_catagory"})},fetchForum:function(t,e){return(0,t.dispatch)("fetchItem",{id:e.id,resource:"forums",itemType:"_forum"})},fetchItem:function(t,e){var s=t.state,r=t.commit,a=e.id,n=(e.itemType,e.resource);return new d.a(function(t,e){f.a.database().ref(n).child(a).once("value",function(e){r("setItem",{resource:n,id:e.key,item:e.val()}),setTimeout(function(){return t(s[n][a])},1e3)})})},fetchItems:function(t,e){var s=t.dispatch,r=e.ids,a=e.resource,n=e.itemType;return r=Array.isArray(r)?r:i()(r),d.a.all(r.map(function(t){return s("fetchItem",{id:t,resource:a,itemType:n})}))},fetchAllCategories:function(t){var e=t.state,s=t.commit;return new d.a(function(t,r){f.a.database().ref("categories").once("value",function(r){var n=r.val();i()(n).forEach(function(t){var e=n[t];s("setItem",{resource:"categories",id:t,item:e})}),t(a()(e.categories))})})}}},nJYp:function(t,e,s){"use strict";var r=s("Dd8w"),a=s.n(r),n=s("NYxO");e.a={computed:a()({},Object(n.c)({user:"authUser"})),data:function(){return{userDropdownOpen:!0}}}},nVtz:function(t,e,s){"use strict";var r=s("gRE1"),a=s.n(r),n=s("Dd8w"),i=s.n(n),o=s("DeYy"),u=s("JO/1"),c=s("OxT7"),d=s("NYxO");e.a={props:{edit:{type:Boolean,default:!1}},components:{PostList:o.a,UserProfileCart:u.a,UserProfileCartEditor:c.a},created:function(){this.$emit("ready")},computed:i()({},Object(d.c)({user:"authUser"}),{userPosts:function(){var t=this;return this.user.posts?a()(this.$store.state.posts).filter(function(e){return e.userId===t.user[".key"]}):[]}})}},ng1G:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"col-large push-top"},[s("h1",[t._v(t._s(t.thread.title)+"\n    "),s("router-link",{staticClass:"btn-green btn-small",attrs:{to:{name:"ThreadEdit",id:this.id},tag:"button"}},[t._v("\n      Edit thread\n    ")])],1),t._v(" "),s("p",[t._v("\n      By "),s("a",{staticClass:"link-unstyled",attrs:{href:"#"}},[t._v(t._s(t.user.name))]),t._v(", "),s("AppDate",{attrs:{timestamp:t.thread.publishedAt}}),t._v(".\n      "),s("span",{staticClass:"hide-mobile text-faded text-small",staticStyle:{float:"right","margin-top":"2px"}},[t._v(t._s(t.repliesCount)+" replies by "+t._s(t.contributorCount)+" contributors")])],1),t._v(" "),s("PostList",{attrs:{posts:t.posts}}),t._v(" "),s("PostEditor",{attrs:{threadId:t.id}})],1):t._e()},a=[],n={render:r,staticRenderFns:a};e.a=n},oEgK:function(t,e,s){"use strict";var r=s("pPvV"),a=s("mP6G"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},pPvV:function(t,e,s){"use strict";e.a={props:{thread:{required:!0,type:Object}},computed:{repliesCount:function(){return this.$store.getters.threadRepliesCount(this.thread[".key"])},user:function(){return this.$store.state.users[this.thread.userId]}}}},rQVF:function(t,e,s){"use strict";var r=s("PJh5"),a=s.n(r);e.a={props:{timestamp:{required:!0,type:Number}},filters:{humanFriendlyDate:function(t){return a.a.unix(t).format("MMMM Do YYYY, h:mm:ss a")},diffForHuman:function(t){return a.a.unix(t).fromNow()}}}},rlI8:function(t,e,s){"use strict";var r=s("jmvG"),a=s("m0Of"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},sibf:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-grid justify-center"},[s("div",{staticClass:"col-2"},[s("form",{staticClass:"card card-form",on:{submit:function(e){return e.preventDefault(),t.signIn(e)}}},[s("h1",{staticClass:"text-center"},[t._v("Login")]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-input",attrs:{id:"email",type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-input",attrs:{id:"password",type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"form-actions text-right"},[s("router-link",{attrs:{to:{name:"Register"}}},[t._v("Create an account?")])],1)]),t._v(" "),s("div",{staticClass:"push-top text-center"},[s("button",{staticClass:"btn-red btn-xsmall",on:{click:t.signInWithGoogle}},[s("i",{staticClass:"fa fa-google fa-btn"}),t._v("Sign in with Google")])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"push-top"},[s("button",{staticClass:"btn-blue btn-block",attrs:{type:"submit"}},[t._v("Log in")])])}],n={render:r,staticRenderFns:a};e.a=n},skxu:function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r),n=s("Dd8w"),i=s.n(n),o=s("gRE1"),u=s.n(o),c=s("NYxO"),d=s("COEB"),l=s("2aZJ");e.a={components:{ThreadList:d.a},props:{id:{required:!0,type:String}},mixins:[l.a],computed:{forum:function(){return this.$store.state.forums[this.id]},threads:function(){var t=this;return u()(this.$store.state.threads).filter(function(e){return e.forumId===t.id})}},methods:i()({},Object(c.b)(["fetchForum","fetchThreads","fetchUser"])),created:function(){var t=this;this.fetchForum({id:this.id}).then(function(e){return t.fetchThreads({ids:e.threads})}).then(function(e){return a.a.all(e.map(function(e){return t.fetchUser({id:e.userId})}))}).then(function(){return t.asyncDataStatus_fetched()})}}},u7GP:function(t,e,s){"use strict";var r=s("3YjU"),a=s("J/FS"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},ukYY:function(t,e,s){"use strict";var r=s("7+uW"),a=function(t){var e=t.parent,s=t.child;return function(t,a){var n=a.childId,i=a.parentId,o=t[e][i];o[s]||r.a.set(o,s,{}),r.a.set(o[s],n,n)}};e.a={setItem:function(t,e){var s=e.item,a=e.id,n=e.resource;s[".key"]=a,r.a.set(t[n],a,s)},setThread:function(t,e){var s=e.thread,a=e.threadId;r.a.set(t.threads,a,s)},setUser:function(t,e){var s=e.user,a=e.userId;r.a.set(t.users,a,s)},setPost:function(t,e){var s=e.post,a=e.postId;r.a.set(t.posts,a,s)},setAuthId:function(t,e){t.authId=e},appendPostToThread:a({parent:"threads",child:"posts"}),appendContributorToThread:a({parent:"threads",child:"contributors"}),appendPostToUser:a({parent:"users",child:"posts"}),appendThreadToForum:a({parent:"forums",child:"threads"}),appendThreadToUser:a({parent:"users",child:"threads"})}},uslO:function(t,e,s){function r(t){return s(a(t))}function a(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};r.keys=function(){return Object.keys(n)},r.resolve=a,t.exports=r,r.id="uslO"},"w+/a":function(t,e,s){"use strict";e.a={props:{threadId:{required:!1},post:{type:Object,validator:function(t){var e="string"==typeof t[".key"],s="string"==typeof t.text,r=e&&s;return e||console.error("the post prop object must inlcude a `.key` attributes"),s||console.error("the post prop object must inlcude a `text` attributes"),r}}},data:function(){return{text:this.post?this.post.text:""}},computed:{isUpdate:function(){return!!this.post}},methods:{save:function(){var t=this;this.persist().then(function(e){t.$emit("save",{post:e})})},cancel:function(){this.$emit("cancel")},create:function(){var t={text:this.text,threadId:this.threadId};return this.text="",this.$store.dispatch("createPost",t)},update:function(){var t={id:this.post[".key"],text:this.text};return this.$store.dispatch("updatePost",t)},persist:function(){return this.isUpdate?this.update():this.create()}}}},"w+aQ":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spinner"},[s("div",{staticClass:"rect1"}),t._v(" "),s("div",{staticClass:"rect2"}),t._v(" "),s("div",{staticClass:"rect3"}),t._v(" "),s("div",{staticClass:"rect4"}),t._v(" "),s("div",{staticClass:"rect5"})])}],n={render:r,staticRenderFns:a};e.a=n},wEhw:function(t,e,s){"use strict";var r=s("NMPn"),a=s("6jfm"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports},wSRz:function(t,e,s){"use strict";function r(t){s("HXr5")}var a=s("ZH5V"),n=s("w+aQ"),i=s("VU/8"),o=r,u=i(a.a,n.a,!1,o,"data-v-cc324462",null);e.a=u.exports},xJD8:function(t,e,s){"use strict";var r=s("9TRy"),a=s("wSRz"),n=s("Y81h"),i=s.n(n);e.a={components:{TheNavbar:r.a,Spinner:a.a},data:function(){return{showPage:!1}},methods:{pageReady:function(){this.showPage=!0,i.a.done()}},created:function(){var t=this;i.a.configure({speed:500,showSpinner:!1}),this.$router.beforeEach(function(e,s,r){t.showPage=!1,i.a.start(),r()})}}},zosi:function(t,e,s){"use strict";var r=s("lMYB"),a=s("arqx"),n=s("VU/8"),i=n(r.a,a.a,!1,null,null,null);e.a=i.exports}},["NHnr"]);
//# sourceMappingURL=app.dc4dff1d92b2ca915ff1.js.map